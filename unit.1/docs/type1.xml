<section>
        <title>Curso 2012</title>
        <para>Este documento contiene la información relativa a la gestión 
        del aulas 108 en relación a los siguientes apartados:
        <itemizedlist>
                <listitem>Esquema de particionado con indicación del uso recomendado a cada una.</listitem>
                <listitem>Usuarios/claves predefinidos.</listitem>
                <listitem>Instalación y configuración previa al comienzo del curso.</listitem>
                <listitem>Scripts utilizados</listitem>
        </itemizedlist>
        </para>

        <section>
                <title>Introducción</title>
                <para>Al aparecer algunos problemas en el equipo piloto que teníamos 
                preparado para el nuevo curso 2010-2011, hemos tenido que crear 
                desde cero dos nuevos equipos piloto a principios de septiembre.
                </para>
                <para>Estos nuevos equipos piloto disponen de un software mínimo 
                porque no disponíamos del suficiente tiempo. 
                Esto equipos han servido de base para clonar el resto de equipos del aula.
                </para>
        </section>

        <section>
                <title>Particiones</title>
                <para>Los equipos <quote>nuevos</quote> que pasan al aula108 tienen 250 GB de disco duro. Se hace el siguiente 
                particionamiento:</para>
                        <table frame='all'>
                <title>Particiones aula108 HDD 250GB</title>
                <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                        <colspec colname='c1'  colwidth="1*"/>
                        <colspec colname='c2'  colwidth="1*"/>
                        <colspec colname='c3'  colwidth="1*"/>
                        <colspec colname='c4'  colwidth="1*"/>
                        <colspec colname='c5'  colwidth="1*"/>
                <thead>
                        <row>
                                <entry>Nº</entry>
                                <entry>Dispositivo</entry>
                                <entry>Espacio</entry>
                                <entry>Punto de montaje</entry>
                                <entry>Descripción</entry>
                        </row>
                </thead>
                <tbody>
                        <row>
                                <entry>1</entry>
                                <entry>/dev/sda1</entry>
                                <entry>2 GB</entry>
                                <entry>-</entry>
                                <entry>Memoria virtual de la máquina real.</entry>
                        </row>
                        <row>
                                <entry>2</entry>
                                <entry>/dev/sda2</entry>
                                <entry>20 GB</entry>
                                <entry>/</entry>
                                <entry>Sistema operativo de la máquina real.</entry>
                        </row>
                        <row>
                                <entry>3</entry>
                                <entry>/dev/sda3</entry>
                                <entry>106 GB</entry>
                                <entry>/mnt/asir</entry>
                                <entry>Datos del usuario ASIR (máquinas virtuales, etc).</entry>
                        </row>
                        <row>
                                <entry>4</entry>
                                <entry>/dev/sda4</entry>
                                <entry>106 GB</entry>
                                <entry>/mnt/daw</entry>
                                <entry>Datos del usuario DAW (máquinas virtuales, etc).</entry>
                        </row>
                </tbody>
                </tgroup>
        </table>

                <para>Algunos equipos tienen 160 GB de disco duro. Y por tanto, se ha realizado este otro particionamiento:</para>
                        <table frame='all'>
                <title>Particiones aula108 HDD 160GB</title>
                <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                        <colspec colname='c1'  colwidth="1*"/>
                        <colspec colname='c2'  colwidth="1*"/>
                        <colspec colname='c3'  colwidth="1*"/>
                        <colspec colname='c4'  colwidth="1*"/>
                        <colspec colname='c5'  colwidth="1*"/>
                <thead>
                        <row>
                                <entry>Nº</entry>
                                <entry>Dispositivo</entry>
                                <entry>Espacio</entry>
                                <entry>Punto de montaje</entry>
                                <entry>Descripción</entry>
                        </row>
                </thead>
                <tbody>
                        <row>
                                <entry>1</entry>
                                <entry>/dev/sda1</entry>
                                <entry>2 GB</entry>
                                <entry>-</entry>
                                <entry>Memoria virtual de la máquina real.</entry>
                        </row>
                        <row>
                                <entry>2</entry>
                                <entry>/dev/sda2</entry>
                                <entry>20 GB</entry>
                                <entry>/</entry>
                                <entry>Sistema operativo de la máquina real.</entry>
                        </row>
                        <row>
                                <entry>3</entry>
                                <entry>/dev/sda3</entry>
                                <entry>66 GB</entry>
                                <entry>/mnt/asir</entry>
                                <entry>Datos del usuario ASIR (máquinas virtuales, etc).</entry>
                        </row>
                        <row>
                                <entry>4</entry>
                                <entry>/dev/sda4</entry>
                                <entry>66 GB</entry>
                                <entry>/mnt/daw</entry>
                                <entry>Datos del usuario DAW (máquinas virtuales, etc).</entry>
                        </row>
                </tbody>
                </tgroup>
        </table>
        </section>
        
        <section>
                <title>Usuarios</title>
                <para>Los usuarios que debemos usar son:</para>
                <itemizedlist>
                        <listitem>asir: Profesores y alumnos para el turno de mañana.</listitem>
                        <listitem>daw: Profesores y alumnos para el turno de tarde.</listitem>
                        <listitem>super y root: son usuarios reservados para realizar tareas administrativas. No deben usarse para la docencia.</listitem>
                </itemizedlist>
                <para>Para las claves consultar esta información en el <quote>libro verde</quote> del departamento.</para>
        </section>
        
        <section>
                <title>Software instalado</title>
                <itemizedlist>
                        <listitem>SO GNU/Linux Ubuntu 12.4 (Instalación por defecto).</listitem>
                        <listitem>VirtualBox</listitem>
                        <listitem>RecordMydesktop</listitem>
                        <listitem>Servidor Apache2</listitem>
                        <listitem>Servidor SSH</listitem>
                </itemizedlist>
                
                <caution>
                <para>Para la instalación de nuevas aplicaciones durante el curso:</para>
                <itemizedlist>
                        <listitem>Cada alumno/profesor podrá instalar todo el software que necesite 
                        dentro de la/s máquina/s virtual/es de su asignatura.</listitem>
                        <listitem>Las máquinas reales no tienen instalado ningún software que permita la comunicación directa 
                        entre dos máquinas de alumnos entre sí. El único software de comunicación que pueden usar deberá estar
                        instalado en la máquinas virtuales.</listitem>
                </itemizedlist>
                </caution>
        </section>
                
        <section>
                <title>Script de actualización</title>
                <para>Ahora en el documento aparecen los dos útlimos scripts utilizados, pero queda pendiente para
                el futuro próximo unificarlos,cogiendo lo mejor de cada para crear una única versión.</para>
                <para>Script 1 utilizado para la instalación de aplicaciones no incluidas por defecto:</para>

                <programlisting>
                        <xi:include  xmlns:xi="http://www.w3.org/2001/XInclude" href="script-01-aula108.sh"  parse="text" />
                </programlisting>

                <para>Script 2 utilizado para la instalación de más aplicaciones no incluidas por defecto:</para>

                <programlisting>
                        <xi:include  xmlns:xi="http://www.w3.org/2001/XInclude" href="script-02-aula108.sh"  parse="text" />
                </programlisting>
        </section>

        <section>
                <title>Proceso para restaurar imagen</title>
                <para>Este sistema es mucho más rápito y cómodo que el utilizado 
                con partimage años anteriores. Además partimage no estaba preparado
                para trabajar con particiones ext4, las nuevas de Ubuntu. Ahora 
                Clonezilla-LIVE emplea la utiliza partclone que si permite este 
                tipo de clonaciones.</para>
                <itemizedlist>
                        <listitem>Iniciar PC con Clonezilla</listitem>
                        <listitem>Seguir los pasos indicados por el programa</listitem>
                        <listitem>Montar USB con las imágenes. estas imágenes están 
                        en el directorio raiz del PC profesor.aula108, y en la máquina 
                        avefenix.departamento.</listitem>
                </itemizedlist>
                <para>TODO: Para el futuro es más cómodo montar un servicor de 
                ficheros SMB/CIFS o NFS en avefenix.departamento con las imágenes. 
                De esta forma nos ahorramos en pendrive. :-).
                Se podría también preparar un script para partclone, y de esta 
                forma no tener que teclear manualmente todas las opciones que 
                pide la herramienta de clonación.</para>
        </section>
</section>
